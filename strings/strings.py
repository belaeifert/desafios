'''
def writefile():
    import os

    output_parte1 = "output_parte1_novo.txt"
    output_parte2 = "output_parte2.txt"
    
    arquivo = open('output_parte1_novo.txt', 'w')
    frase = output()
    arquivo.write('ola')
    arquivo.close()
    writetofile()
'''

def output():#frase): #Desafio 1
    frase = 'In the beginning God created the heavens and the earth. Now the earth was formless and empty, darkness was over the surface of the deep, and the Spirit of God was hovering over the waters.'
    vetor = frase.split()
    linha, texto = "", ""
    max = 40

    for palavra in vetor:
        if len(linha) < max and len(linha) + len(palavra) <= max:
            linha += palavra + " " #o espaço está contando como caracterer 41
        else:
            texto += linha + "\n"
            linha = palavra + " "
    texto +=linha[0:-1]
    texto = texto.replace(' \n', '\n')
    return texto

def printar(texto):
    print(texto)

def justificar(texto): #Desafio 2
    new = texto.split('\n')
    novo_texto = ''
    contador_frase = 0
    contador_caractere = 0


    for frase in new:
        espacos_a_add = 40 - len(frase)       
        if espacos_a_add == 0:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
            pass            
        else:
            lista_posicoes = lista_posicoes_frase(frase)
            frase = add_espacos(frase, lista_posicoes, 0, espacos_a_add)   #chamar a função recursiva
        novo_texto+=frase+'\n'
        
    #print(novo_texto)
    return printar(novo_texto)
            

def lista_posicoes_frase(frase):
    lista_posicoes = []
    
    for contador in range(len(frase)):
        if frase[contador].isspace():
            lista_posicoes.append(contador)
        if(contador + 1 == len(frase)): #lista de posições da frase completa
            verifica_sequencia_lista(lista_posicoes)
            return lista_posicoes

def verifica_sequencia_lista(lista_posicoes):
    for posicao in range(len(lista_posicoes)):
        if lista_posicoes[posicao] != lista_posicoes[-1]:
            if lista_posicoes[posicao]+1 == lista_posicoes[posicao+1]:
                lista_posicoes.pop(posicao)
        else:
            return lista_posicoes
    
                
 
def add_espacos(frase, lista_posicoes, numero, espacos_a_add):
        
    if espacos_a_add != 0:
        frase = frase[0:lista_posicoes[numero]] + ' ' + frase[lista_posicoes[numero]:]
        lista_posicoes = lista_posicoes_frase(frase)  # atualiza a lista de posições    
        
        espacos_a_add-=1
        numero+=1
        
        if lista_posicoes[numero] == lista_posicoes[-1] and espacos_a_add != 0:
            return add_espacos(frase, lista_posicoes, 0, espacos_a_add)
        else:
            return add_espacos(frase, lista_posicoes, numero, espacos_a_add)
        
    else:
        return str(frase)


#FRASE: and the earth. Now the earth was
    #lista: [3, 7, 14, 18, 22, 28]
    # numero: 0
    # espacos_a_add: 8
